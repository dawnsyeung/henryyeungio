<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Molten Stick Sprint</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="panel hero">
        <div class="hero-copy">
          <p class="eyebrow">Lava Canyon Parkour</p>
          <h1>Molten Stick Sprint</h1>
          <p>
            Guide a lone neon stick figure sprinting over a lava river while distant tree lines race by. Queue jumps, stay above the
            heat, and let the stopwatch prove every daring second.
          </p>
          <div class="hero-actions">
            <button id="reset-btn" type="button" class="primary">Reset Run</button>
            <button id="pause-btn" type="button">Pause</button>
            <button id="dash-btn" type="button" class="dash-btn" aria-label="Trigger dash burst">
              <span class="dash-arrow" aria-hidden="true">&rarr;</span>
              <span class="dash-copy">
                <span class="dash-title">Dash</span>
                <span id="dash-btn-state" class="dash-state">Ready</span>
              </span>
            </button>
          </div>
        </div>
        <div class="stats">
          <div class="stat">
            <p class="label">Stopwatch</p>
            <p id="timer" class="value">0:00.0</p>
          </div>
          <div class="stat">
            <p class="label">Distance</p>
            <p id="distance" class="value">0m</p>
          </div>
          <div class="stat">
            <p class="label">Best</p>
            <p id="best" class="value">0m</p>
          </div>
          <div class="stat">
            <p class="label">Heat Flow</p>
            <p id="pace" class="value gun-name">0 b/s</p>
          </div>
          <div class="stat">
            <p class="label">Checkpoint</p>
            <p id="checkpoint" class="value">Next @ 250m</p>
          </div>
          <div class="stat">
            <p class="label">Dash</p>
            <p id="dash" class="value">Ready</p>
          </div>
        </div>
      </header>

      <main class="play-area">
        <section class="panel canvas-panel">
          <div class="canvas-headline">
            <div>
              <h2>Active Run</h2>
              <p>Tap out perfect hops above the lava pit. Watch the stopwatch and aim for longer forest-lined sprints.</p>
            </div>
          </div>
          <canvas
            id="track-canvas"
            width="960"
            height="540"
            aria-label="Blockstep parkour track"
            tabindex="0"
          ></canvas>
        </section>

        <section class="panel guide">
          <div class="controls-head">
            <h2>How to Play</h2>
            <p>Buffered jumps trigger on the first possible frame. Staying grounded refreshes the buffer.</p>
          </div>
          <ul class="tips">
            <li>Press Space, W, Up/Down Arrow, or tap to jump. Hold to queue a buffer for the next edge.</li>
            <li>R resets instantly. P or the Pause button toggles slow-motion inspect mode.</li>
            <li>Coyote time lets you step off a block for ~0.12s and still launch.</li>
            <li>Double-tap on touch or hit Shift/D mid-air to unleash a dash burst that covers bigger gaps; landing refuels it.</li>
            <li>The Heat Flow stat shows blocks per second — more heat means bigger gaps.</li>
            <li>The stopwatch never lies: push for longer survival streaks without touching the lava.</li>
            <li>Landing every ~250m drops a checkpoint flag. Falls rewind you to the latest unspent flag before ending the run.</li>
          </ul>
          <div class="hotkeys">
            <p><span class="key">Space/W/↑/↓</span> jump & buffer</p>
            <p><span class="key">R</span> reset run</p>
            <p><span class="key">P</span> pause/resume</p>
            <p><span class="key">Click/Touch</span> jump</p>
            <p><span class="key">Shift / D</span> dash burst</p>
            <p><span class="key">Double Tap</span> touch dash</p>
          </div>
        </section>
      </main>
    </div>

    <script src="./app.js" type="module"></script>
  </body>
</html>
